date: 2014-2-18

<div class='reverse_links'>
<h2 class='h2_blog'>Tuesday, February 18, 2014</h2><br>
<h1 class='h1_blog'>Dummy Controllers for Dummies</h1>

<p>I've been hearing the term "Ajax" thrown around a lot recently. No, not the mythological Greek hero, Ajax the Great. I'm talking about something even Greater -- <strong>A</strong>syncrhonous <strong>J</strong>avaScript <strong>a</strong>nd <strong>X</strong>ML. <em>Whoa.</em></p>

<p>In brief, AJAX is used to send data from your browser to a server without sending a new HTTP request (i.e. without refreshing or reloading the web page). Examples of sending data to a server include creating, updating, or deleting items from a database using ActiveRecord. AJAX seems pretty intimidating at first, but it's actually really cool, and once you get the hang of it, it's hard to not want to throw it in everywhere.

<div class='code'>
  <p>$(function() {</p>
    <p class='indent'>$("#submit_button").on( "click", function() {</p>

      <p class='indent2'>$.ajax({</p>
        <p class='indent3'>url: $(this).parents('form').attr("action"),</p>
        <p class='indent3'>type: 'PATCH',</p>
        <p class='indent3'>dataType: 'json',</p>
        <p class='indent3'>data: {</p>
          <p class='indent4'>user: {</p>
            <p class='indent5'>email: $("#user_email").val()</p>
          <p class='indent4'>}</p>
        <p class='indent3'>},</p>
      <p class='indent2'>})</p>
      <p class='indent2'>.done(function(data){</p>
        <p class='indent3'>$("#email_form").toggle();</p>
        <p class='indent3'>$("#email_form_congrats").toggle();</p>
      <p class='indent2'>})</p>
      <p class='indent2'>.fail(function(){</p>
        <p class='indent3'>$("#email_form_uhoh").toggle();</p>
      <p class='indent2'>});</p>
      <p class='indent2'>return false;</p>
    <p class='indent'>});</p>
  <p>});</p>
</div>


  <p>class DummyController &#60; ApplicationController</p>
    <p class='indent'>def test_current_user</p>
      <p class='indent2'>redirect_to user_path(@current_user)</p>
    <p class='indent'>end</p>
  <p>end</p>
</div>